importScripts("../lib/makarWebAR.min.js"),WorkerARControllers={},WorkerARControllerID=0,callbackMethods={loadNFTMarker:1,loadMarker:1,loadMultiMarker:1},onmessage=function(a){if("new"===a.data.method){var e=new ARController(a.data.arguments[0],a.data.arguments[1],a.data.arguments[2]),t=WorkerARControllerID++;WorkerARControllers[t]=e;var r=function(a){if("getFrameTarget"==a.name){let e=a.data.uArray.slice();a.data.uArray=e}a.target=t,postMessage({event:a})};["load","markerNum","getMarker","getNFTMarkerDraw","loadNFTDone","getMultiMarker","getMultiMarkerSub","getFrameTarget"].forEach(function(a){e.addEventListener(a,r)}),postMessage({method:"new",id:t,callID:a.data.callID})}else if("dispose"===a.data.method){(e=WorkerARControllers[a.data.id]).dispose(),delete WorkerARControllers[a.data.id],postMessage({method:"dispose",id:a.data.id,callID:a.data.callID})}else{e=WorkerARControllers[a.data.id];if(callbackMethods[a.data.method]){if(a.data.arguments.push(function(){var e=Array.prototype.slice.call(arguments);postMessage({method:a.data.method,result:e,id:a.data.id,callID:a.data.callID})}),!d)var d=(new Date).getTime();if(e[a.data.method].apply(e,a.data.arguments),!o)var o=(new Date).getTime()}else{var l=e[a.data.method].apply(e,a.data.arguments);postMessage({method:a.data.method,result:l,id:a.data.id,callID:a.data.callID})}}};